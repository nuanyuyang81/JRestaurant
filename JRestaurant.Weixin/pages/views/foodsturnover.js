(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/views/foodsturnover"],{"0cc1":function(t,e,a){"use strict";a.r(e);var n=a("805f"),r=a("66f7");for(var o in r)"default"!==o&&function(t){a.d(e,t,(function(){return r[t]}))}(o);a("872f");var i,u=a("f0c5"),c=Object(u["a"])(r["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],i);e["default"]=c.exports},6524:function(t,e,a){},"66f7":function(t,e,a){"use strict";a.r(e);var n=a("79a5"),r=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=r.a},"79a5":function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r(a("ce65"));function r(t){return t&&t.__esModule?t:{default:t}}var o=new n.default,i={name:"TurnOverIndex",data:function(){return{tabCur:2,title:"本周料理营业额",week:1,loadModal:!1,modalName:null,dtList:[],ftColumns:[{title:"星期",key:"week",width:100}],ftTableData:[],weekList:[1,2,3,4,5,6,0]}},onLoad:function(){var t=this;this.loadModal=!0,o.get("http://81.70.37.99/JRestaurant/weixin/ListTurnOverTypeByAim",{params:{aim:0}}).then((function(e){var a=e.data;a.forEach((function(e){t.ftColumns.push({title:e.Name,key:"Id"+e.Id,width:180})})),t.ftColumns.push({title:"营收日期",key:"date",width:180}),t.refreshData(1)})).catch((function(t){console.log(t)}))},methods:{toChild:function(e){t.navigateTo({url:e.currentTarget.dataset.url})},refreshData:function(t){var e=this;this.loadModal=!0,this.ftTableData=[],this.weekList.forEach((function(t){var a={};e.ftColumns.forEach((function(t){var e=t["key"];a[e]=0})),a.week=e.convertWeekDay(t),a.date="N/A",e.ftTableData.push(a)})),o.get("http://81.70.37.99/JRestaurant/weixin/ListFoodsTurnOverByWeek",{params:{week:t}}).then((function(t){e.dtList=t.data,e.loadModal=!1,e.dtList.forEach((function(t){e.ftTableData.forEach((function(a){if(e.convertWeekDay(t.WeekDay)===a.week){var n="Id"+t.TypeId;a[n]=a[n]+parseFloat(t.Amount),a.date=e.timeformat(t.AddDate)}}))}))})).catch((function(t){console.log(t)}))},goToPWeek:function(){this.week--,this.week>0&&this.refreshData(this.week)},goToNWeek:function(){this.week++,this.week>1&&this.refreshData(this.week)},timeformat:function(t){var e=t;if(null!=e){e=e.replace(/\D/g," ");var a=e.split(" ");a[1]--;var n=new Date(Date.UTC(a[0],a[1],a[2],a[3],a[4],a[5])),r=n.toLocaleString();return r.substring(0,r.indexOf(","))}return""},convertWeekDay:function(t){var e="";switch(t){case 1:e="星期一";break;case 2:e="星期二";break;case 3:e="星期三";break;case 4:e="星期四";break;case 5:e="星期五";break;case 6:e="星期六";break;case 0:e="星期天";break;default:e="星期一";break}return e}}};e.default=i}).call(this,a("543d")["default"])},"805f":function(t,e,a){"use strict";var n,r=function(){var t=this,e=t.$createElement;t._self._c},o=[];a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}))},"872f":function(t,e,a){"use strict";var n=a("6524"),r=a.n(n);r.a},f6ae:function(t,e,a){"use strict";(function(t){a("00b6");n(a("66fd"));var e=n(a("0cc1"));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])}},[["f6ae","common/runtime","common/vendor"]]]);