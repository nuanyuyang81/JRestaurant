(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/views/analysis"],{"15ab":function(e,t,a){"use strict";a.r(t);var i=a("9e73"),n=a.n(i);for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);t["default"]=n.a},"2da4":function(e,t,a){"use strict";a.r(t);var i=a("dda9"),n=a("15ab");for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);a("837f");var s,r=a("f0c5"),c=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"a369aeb2",null,!1,i["a"],s);t["default"]=c.exports},"837f":function(e,t,a){"use strict";var i=a("f792"),n=a.n(i);n.a},"9e73":function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(a("e8fe")),n=o(a("69e1"));function o(e){return e&&e.__esModule?e:{default:e}}var s,r=new i.default,c=null,u=null,d={data:function(){return{modalName:null,cWidth:"",cHeight:"",pixelRatio:1,date:"",currentdate:"",categories:["星期一","星期二","星期三","星期四","星期五","星期六","星期天"],ftseries:[{name:"料理营业额",data:[0,0,0,0,0,0,0]}],dtseries:[{name:"酒水营业额",data:[0,0,0,0,0,0,0]}],week:1,loadModal:!1,ftList:[],dtList:[]}},onLoad:function(){var t=new Date;this.date=this.timeformat(t.toLocaleString()),this.currentdate=this.timeformat(t.toLocaleString()),s=this,this.cWidth=e.upx2px(750),this.cHeight=e.upx2px(500),this.refreshData(1)},methods:{refreshData:function(e){var t=this;this.loadModal=!0,this.ftTableData=[],r.get("http://81.70.37.99/JRestaurant/weixin/ListFoodsTurnOverByWeek",{params:{week:e}}).then((function(e){t.ftList=e.data,t.loadModal=!1,t.ftList.forEach((function(e){t.categories.forEach((function(a,i){t.convertWeekDay(e.WeekDay)===a&&(t.ftseries[0].data[i]=t.ftseries[0].data[i]+parseFloat(e.Amount))}))}));var a={categories:[],series:[]};a.categories=t.categories,0==t.ftList.length&&t.initData(),a.series=t.ftseries,t.showColumn("ftCanvasColumn",a)})).catch((function(e){console.log(e)})),r.get("http://81.70.37.99/JRestaurant/weixin/ListDrinksTurnOverByWeek",{params:{week:e}}).then((function(e){t.dtList=e.data,t.loadModal=!1,t.dtList.forEach((function(e){t.categories.forEach((function(a,i){t.convertWeekDay(e.WeekDay)===a&&(t.dtseries[0].data[i]=t.dtseries[0].data[i]+parseFloat(e.Amount))}))}));var a={categories:[],series:[]};a.categories=t.categories,0==t.dtList.length&&t.initData(),a.series=t.dtseries,t.showColumnd("dtCanvasColumn",a)})).catch((function(e){console.log(e)}))},initData:function(){this.ftseries=[{name:"料理营业额",data:[0,0,0,0,0,0,0]}],this.dtseries=[{name:"酒水营业额",data:[0,0,0,0,0,0,0]}]},goToPWeek:function(){this.week--,this.week>0&&this.refreshData(this.week)},goToNWeek:function(){this.week++,this.week>1&&this.refreshData(this.week)},DateChange:function(e){this.date=e.detail.value;var t=this.TodayInfo(this.date);console.log(t.week),this.refreshData(t.week)},TodayInfo:function(e){var t,a,i,n,o,s=7,r=["日","一","二","三","四","五","六"],c={week:null,day:null},u=864e5,d=/\d{4}[\/-]\d{1,2}[\/-]\d{1,2}/g;return d.test(e)?(o=new Date(e.replace("-","/")),a=o.getDay(),a=0===a?7:a,t=s-a,i=new Date,c.day=r[i.getDay()],i=new Date(i.getFullYear()+"/"+(i.getMonth()+1)+"/"+i.getDate()),n=i-o,n<0?c:(n=parseInt(n/u),c.week=Math.ceil((n-t)/s)+1,c)):(alert("请使用合法的开学日期！！！"),c)},timeformat:function(e){var t=e;if(null!=t){t=t.replace(/\D/g," ");var a=t.split(" ");a[1]--;var i=new Date(Date.UTC(a[0],a[1],a[2],a[3],a[4],a[5])),n=i.toLocaleString();return n.substring(0,n.indexOf(" "))}return""},convertWeekDay:function(e){var t="";switch(e){case 1:t="星期一";break;case 2:t="星期二";break;case 3:t="星期三";break;case 4:t="星期四";break;case 5:t="星期五";break;case 6:t="星期六";break;case 0:t="星期天";break;default:t="星期一";break}return t},showColumn:function(e,t){c=new n.default({$this:s,canvasId:e,type:"column",legend:{show:!0},fontSize:11,background:"#FFFFFF",pixelRatio:s.pixelRatio,animation:!0,categories:t.categories,series:t.series,xAxis:{disableGrid:!0},yAxis:{},dataLabel:!0,width:s.cWidth*s.pixelRatio,height:s.cHeight*s.pixelRatio,extra:{column:{type:"group",width:s.cWidth*s.pixelRatio*.45/t.categories.length}}})},showColumnd:function(e,t){u=new n.default({$this:s,canvasId:e,type:"column",legend:{show:!0},fontSize:11,background:"#FFFFFF",pixelRatio:s.pixelRatio,animation:!0,categories:t.categories,series:t.series,xAxis:{disableGrid:!0},yAxis:{},dataLabel:!0,width:s.cWidth*s.pixelRatio,height:s.cHeight*s.pixelRatio,extra:{column:{type:"group",width:s.cWidth*s.pixelRatio*.45/t.categories.length}}})},touchColumn:function(e){c.showToolTip(e,{format:function(e,t){return"object"===typeof e.data?t+" "+e.name+":"+e.data.value:t+" "+e.name+":"+e.data}})},touchColumnD:function(e){u.showToolTip(e,{format:function(e,t){return"object"===typeof e.data?t+" "+e.name+":"+e.data.value:t+" "+e.name+":"+e.data}})}}};t.default=d}).call(this,a("543d")["default"])},c55b:function(e,t,a){"use strict";(function(e){a("0955");i(a("66fd"));var t=i(a("2da4"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,a("543d")["createPage"])},dda9:function(e,t,a){"use strict";var i,n=function(){var e=this,t=e.$createElement;e._self._c},o=[];a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return i}))},f792:function(e,t,a){}},[["c55b","common/runtime","common/vendor"]]]);