(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-637f4617"],{"746d":function(e,t,a){},"7adc":function(e,t,a){"use strict";var n=a("746d"),r=a.n(n);r.a},b25a:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-radio-group",{on:{change:e.switchAimType},model:{value:e.AimType,callback:function(t){e.AimType=t},expression:"AimType"}},e._l(e.aimList,(function(e,t){return a("el-radio-button",{key:t,attrs:{label:e}})})),1),a("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"50px","margin-top":"6px"},attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(t){e.vendorDialogVisible=!0}}},[e._v(" 添加供应商 ")])],1),a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loadVendor,expression:"loadVendor"}],staticStyle:{width:"95%"}},e._l(e.vendorList,(function(t){return a("el-col",{key:t.Id,staticStyle:{"margin-top":"10px","margin-left":"10px",width:"320px"}},[a("item",{attrs:{id:t.Id,aimtype:e.formatAimType(t.AimType),name:t.Name,comments:t.Comments,createtime:t.CreateTime},on:{updateData:e.refreshData}})],1)})),1),a("el-dialog",{attrs:{title:"供应商信息管理",center:"",top:"5vh",visible:e.vendorDialogVisible,width:"30%"},on:{"update:visible":function(t){e.vendorDialogVisible=t}}},[a("add",{on:{updateData:function(t){return e.refreshData(0)}}})],1)],1)},r=[],i=a("c45a"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticStyle:{height:"150px","text-align":"left"},attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-tag",[e._v(e._s(e.name))]),a("el-button",{staticStyle:{float:"right"},attrs:{type:"danger",size:"mini"},on:{click:e.deleteVendor}},[e._v("删除供应商")])],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("svg-icon",{staticClass:"modelImage",attrs:{"icon-class":"vendor"}}),a("el-button",{attrs:{type:"text"},on:{click:e.updateVendor}},[e._v("编辑")])],1),a("el-col",{staticStyle:{"font-size":"12px","padding-left":"5px",color:"#606266"},attrs:{span:18}},[a("el-row",{staticStyle:{margin:"5px"}},[e._v("供货类型: "+e._s(e.aimtype))]),a("el-row",{staticStyle:{margin:"5px"}},[e._v("备注: "+e._s(e.comments))]),a("el-row",{staticStyle:{margin:"5px"}},[e._v("添加时间: "+e._s(null!=e.createtime?e.dateformat(e.createtime):""))])],1)],1),a("el-dialog",{attrs:{title:"供应商信息管理",center:"",top:"5vh",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("add",{attrs:{vendorid:e.id,aimtype:e.aimtype,name:e.name,comments:e.comments}})],1)],1)},l=[],s=(a("a9e3"),a("ac1f"),a("5319"),a("1276"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("el-form",{attrs:{"label-width":"120px",rules:e.rules,"label-position":"left",model:e.targetVendor,size:"mini"}},[a("el-form-item",{attrs:{label:"供应商名",prop:"Name"}},[a("el-input",{model:{value:e.targetVendor.Name,callback:function(t){e.$set(e.targetVendor,"Name",t)},expression:"targetVendor.Name"}})],1),a("el-form-item",{attrs:{label:"供货分类",prop:"Name"}},[a("el-radio-group",{model:{value:e.targetVendor.AimType,callback:function(t){e.$set(e.targetVendor,"AimType",t)},expression:"targetVendor.AimType"}},e._l(e.aimList,(function(e,t){return a("el-radio-button",{key:t,attrs:{label:e}})})),1)],1),a("el-form-item",{attrs:{label:"备注",prop:"Comments"}},[a("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.targetVendor.Comments,callback:function(t){e.$set(e.targetVendor,"Comments",t)},expression:"targetVendor.Comments"}})],1)],1),a("el-row",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"warning"},on:{click:e.clear}},[e._v("清除")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],1)}),d=[],c=(a("b0c0"),a("498a"),a("a78e")),m=a.n(c),u={name:"Add",props:{aimtype:{type:String,default:null},name:{type:String,default:null},comments:{type:String,default:null},vendorid:{type:Number,default:null}},data:function(){return{targetVendor:{Name:"",AimType:"",Comments:"",Id:0},aimList:["料理","酒水","通用"],rules:{AimType:[{required:!0,trigger:"blur"}],Name:[{required:!0,trigger:"blur"}],Comments:[{required:!0,trigger:"blur"}]}}},mounted:function(){null!==this.vendorid&&(this.targetVendor.AimType=this.aimtype,this.targetVendor.Name=this.name,this.targetVendor.Comments=this.comments,this.targetVendor.Id=this.vendorid)},methods:{clear:function(){this.targetVendor={AimType:"",Name:"",Comments:""}},submit:function(){var e=this;null!==this.vendorid?Object(i["e"])({Name:this.targetVendor.Name.trim(),AimType:this.formatAimType(this.targetVendor.AimType),Comments:this.targetVendor.Comments.trim(),OwnerId:m.a.get("uid"),Id:this.targetVendor.Id}).then((function(t){t?(e.$message.success("供应商信息更新成功"),e.clear()):e.$message.error("供应商信息更新失败")})).catch((function(e){console.log(e)})):Object(i["b"])({Name:this.targetVendor.Name.trim(),AimType:this.formatAimType(this.targetVendor.AimType),Comments:this.targetVendor.Comments.trim(),OwnerId:m.a.get("uid")}).then((function(t){t?(e.$message.success("供应商添加成功"),e.$emit("updateData"),e.clear()):e.$message.error("供应商添加失败")})).catch((function(e){console.log(e)}))},formatAimType:function(e){var t=0;switch(e){case"料理":t=0;break;case"酒水":t=1;break;case"通用":t=2;break;default:t=2;break}return t}}},p=u,f=a("2877"),g=Object(f["a"])(p,s,d,!1,null,null,null),h=g.exports,b={name:"Item",components:{add:h},props:{id:{type:Number,default:null},aimtype:{type:String,default:null},name:{type:String,default:null},comments:{type:String,default:null},createtime:{type:String,default:null}},data:function(){return{dialogVisible:!1}},methods:{deleteVendor:function(){var e=this;Object(i["c"])(this.id,m.a.get("uid")).then((function(t){t?(e.$message.success("成功删除供应商"),e.$emit("updateData",0)):e.$message.error("供应商删除失败")})).catch((function(e){console.log(e)}))},updateVendor:function(){this.dialogVisible=!0},dateformat:function(e){var t=e;if(null!=t){t=t.replace(/\D/g," ");var a=t.split(" ");a[1]--;var n=new Date(Date.UTC(a[0],a[1],a[2],a[3],a[4],a[5]));return n.toLocaleString()}return""}}},y=b,v=(a("7adc"),Object(f["a"])(y,o,l,!1,null,"f4a3a34c",null)),V=v.exports,w={name:"Vendor",components:{item:V,add:h},data:function(){return{vendorList:[],loadVendor:!1,vendorDialogVisible:!1,AimType:"料理",aimList:["料理","酒水"]}},mounted:function(){this.refreshData()},methods:{refreshData:function(){var e=this;this.loadVendor=!0;var t=0;"酒水"===this.AimType&&(t=1),Object(i["a"])(t).then((function(t){e.vendorList=t,e.loadVendor=!1})).catch((function(e){console.log(e)}))},switchAimType:function(){this.refreshData()},formatAimType:function(e){var t="";switch(e){case 0:t="料理";break;case 1:t="酒水";break;case 2:t="通用";break;default:t="通用";break}return t}}},A=w,T=Object(f["a"])(A,n,r,!1,null,null,null);t["default"]=T.exports},c45a:function(e,t,a){"use strict";a.d(t,"d",(function(){return r})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return o})),a.d(t,"e",(function(){return l})),a.d(t,"c",(function(){return s}));var n=a("b775");function r(){return Object(n["a"])({url:"/admin/vendor/GetTotalCount",method:"get"})}function i(e){return Object(n["a"])({url:"/admin/vendor/ListVendorByAim",method:"get",params:{aim:e}})}function o(e){return Object(n["a"])({url:"/admin/vendor/AddVendor",method:"post",data:e})}function l(e){return Object(n["a"])({url:"/admin/vendor/UpdateVendor",method:"post",data:e})}function s(e,t){return Object(n["a"])({url:"/admin/vendor/InActiveVendor",method:"get",params:{id:e,uid:t}})}}}]);