(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-697b476a"],{7904:function(e,t,a){"use strict";var i=a("da54"),n=a.n(i);n.a},d29b:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",size:"mini",icon:"el-icon-plus"},on:{click:function(t){e.typeDialogVisible=!0}}},[e._v(" 添加营业额分类 ")])],1),a("el-row",{directives:[{name:"loading",rawName:"v-loading",value:e.loadType,expression:"loadType"}],staticStyle:{width:"95%"}},e._l(e.typeList,(function(t){return a("el-col",{key:t.Id,staticStyle:{"margin-top":"10px","margin-left":"10px",width:"320px"}},[a("item",{attrs:{id:t.Id,aim:t.AimType,name:t.Name,comments:t.Comments,createtime:t.CreateTime},on:{updateData:e.refreshData}})],1)})),1),a("el-dialog",{attrs:{title:"营业额分类管理",center:"",top:"5vh",visible:e.typeDialogVisible,width:"30%"},on:{"update:visible":function(t){e.typeDialogVisible=t}}},[a("add",{on:{updateData:e.refreshData}})],1)],1)},n=[],r=a("d958"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",{staticStyle:{height:"150px","text-align":"left"},attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("el-tag",[e._v(e._s(e.name))]),a("el-button",{staticStyle:{float:"right"},attrs:{type:"danger",size:"mini"},on:{click:e.deleteType}},[e._v("删除营业额分类")])],1),a("el-row",[a("el-col",{attrs:{span:6}},[a("svg-icon",{staticClass:"modelImage",attrs:{"icon-class":"turnovertype"}}),a("el-button",{attrs:{type:"text"},on:{click:e.updateType}},[e._v("编辑")])],1),a("el-col",{staticStyle:{"font-size":"12px","padding-left":"5px",color:"#606266"},attrs:{span:18}},[a("el-row",{staticStyle:{margin:"5px"}},[e._v("适用类型: "+e._s(e.convertAim(e.aim)))]),a("el-row",{staticStyle:{margin:"5px"}},[e._v("备 注: "+e._s(e.comments))]),a("el-row",{staticStyle:{margin:"5px"}},[e._v("添加时间: "+e._s(null!=e.createtime?e.dateformat(e.createtime):""))])],1)],1),a("el-dialog",{attrs:{title:"营业额分类管理",center:"",top:"5vh",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("add",{attrs:{typeid:e.id,aimtype:e.aim,name:e.name,comments:e.comments}})],1)],1)},s=[],o=(a("a9e3"),a("ac1f"),a("5319"),a("1276"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("el-form",{attrs:{"label-width":"120px",rules:e.rules,"label-position":"left",model:e.taragetType,size:"mini"}},[a("el-form-item",{attrs:{label:"营业额分类",prop:"Name"}},[a("el-input",{model:{value:e.taragetType.Name,callback:function(t){e.$set(e.taragetType,"Name",t)},expression:"taragetType.Name"}})],1),a("el-form-item",{attrs:{label:"适用于",prop:"AimType"}},[a("el-select",{attrs:{clearable:""},model:{value:e.taragetType.AimType,callback:function(t){e.$set(e.taragetType,"AimType",t)},expression:"taragetType.AimType"}},e._l(e.aimList,(function(e){return a("el-option",{key:e.Id,attrs:{label:e.Name,value:e.Id}})})),1)],1),a("el-form-item",{attrs:{label:"备注",prop:"Comments"}},[a("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.taragetType.Comments,callback:function(t){e.$set(e.taragetType,"Comments",t)},expression:"taragetType.Comments"}})],1)],1),a("el-row",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"warning"},on:{click:e.clear}},[e._v("清除")]),a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],1)}),m=[],u=(a("b0c0"),a("498a"),a("a78e")),c=a.n(u),p={name:"Add",props:{name:{type:String,default:null},comments:{type:String,default:null},typeid:{type:Number,default:null},aimtype:{type:Number,default:null}},data:function(){return{aimList:[{Id:0,Name:"料理"},{Id:1,Name:"酒水"},{Id:2,Name:"通用"}],taragetType:{Name:"",Comments:"",Id:0,AimType:0},rules:{Name:[{required:!0,trigger:"blur"}],AimType:[{required:!0,trigger:"blur"}],Comments:[{required:!0,trigger:"blur"}]}}},mounted:function(){console.log(this.typeid),null!==this.typeid&&(this.taragetType.Name=this.name,this.taragetType.Comments=this.comments,this.taragetType.Id=this.typeid,this.taragetType.AimType=this.aimtype)},methods:{clear:function(){this.taragetType={Name:"",Comments:""}},submit:function(){var e=this;null!==this.typeid?Object(r["e"])({Name:this.taragetType.Name.trim(),AimType:this.taragetType.AimType,Comments:this.taragetType.Comments.trim(),OwnerId:c.a.get("uid"),Id:this.taragetType.Id}).then((function(t){t?e.$message.success("营业额分类更新成功"):e.$message.error("营业额分类更新失败")})).catch((function(e){console.log(e)})):Object(r["a"])({Name:this.taragetType.Name.trim(),AimType:this.taragetType.AimType,Comments:this.taragetType.Comments.trim(),OwnerId:c.a.get("uid")}).then((function(t){t?(e.$message.success("营业额分类添加成功"),e.$emit("updateData")):e.$message.error("营业额分类添加失败")})).catch((function(e){console.log(e)}))}}},d=p,y=a("2877"),f=Object(y["a"])(d,o,m,!1,null,null,null),g=f.exports,h={name:"Item",components:{add:g},props:{id:{type:Number,default:null},name:{type:String,default:null},aim:{type:Number,default:0},comments:{type:String,default:null},createtime:{type:String,default:null}},data:function(){return{dialogVisible:!1,aimList:[{Id:0,Name:"料理"},{Id:1,Name:"酒水"},{Id:3,Name:"通用"}]}},methods:{deleteType:function(){var e=this;Object(r["b"])(this.id,c.a.get("uid")).then((function(t){t?(e.$message.success("成功删除营业额分类"),e.$emit("updateData")):e.$message.error("营业额分类删除失败")})).catch((function(e){console.log(e)}))},updateType:function(){this.dialogVisible=!0},convertAim:function(){return 0===this.aim?"料理":2===this.aim?"酒水":"通用"},dateformat:function(e){var t=e;if(null!=t){t=t.replace(/\D/g," ");var a=t.split(" ");a[1]--;var i=new Date(Date.UTC(a[0],a[1],a[2],a[3],a[4],a[5]));return i.toLocaleString()}return""}}},T=h,b=(a("7904"),Object(y["a"])(T,l,s,!1,null,"b4a5a7fa",null)),v=b.exports,N={name:"TurnOverType",components:{item:v,add:g},data:function(){return{typeList:[],loadType:!1,typeDialogVisible:!1}},mounted:function(){this.refreshData()},methods:{refreshData:function(){var e=this;this.loadTypes=!0,Object(r["c"])().then((function(t){e.typeList=t,e.loadTypes=!1})).catch((function(e){console.log(e)}))}}},w=N,x=Object(y["a"])(w,i,n,!1,null,null,null);t["default"]=x.exports},d958:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"a",(function(){return l})),a.d(t,"e",(function(){return s})),a.d(t,"b",(function(){return o}));var i=a("b775");function n(){return Object(i["a"])({url:"/admin/turnovertype/ListAllTurnOverTypes",method:"get"})}function r(e){return Object(i["a"])({url:"/admin/turnovertype/ListTurnOverTypeByAim",method:"get",params:{aim:e}})}function l(e){return Object(i["a"])({url:"/admin/turnovertype/AddTurnOverType",method:"post",data:e})}function s(e){return Object(i["a"])({url:"/admin/turnovertype/UpdateTurnOverType",method:"post",data:e})}function o(e,t){return Object(i["a"])({url:"/admin/turnovertype/InActiveTurnOverTypes",method:"get",params:{id:e,uid:t}})}},da54:function(e,t,a){}}]);